<!-- app/templates/_design.html -->
<!DOCTYPE html>
<html lang="en" data-bs-theme="auto">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Sentinel Commander{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Your custom styles -->
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="stylesheet" href="/static/css/light.css">
    <link rel="stylesheet" href="/static/css/dark.css">
    {% block extrastyle %}{% endblock %}
</head>
<body class=" sc-body theme-dark">
{% if request.session.get('user') %}
    {% include "_navbar.html" %}
{% endif %}
    <main class="container-fluid my-4 px-4">
        {% block content %}{% endblock %}
    </main>
    <!-- Optional: JS for Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const toggleButton = document.getElementById('darkModeToggle');
        const body = document.body;

        // Load theme from localStorage
        const savedTheme = localStorage.getItem('sc-theme');
        if (savedTheme) {
            body.classList.remove('theme-dark', 'theme-light');
            body.classList.add(savedTheme);
        }

        toggleButton.addEventListener('click', () => {
            const isDark = body.classList.contains('theme-dark');
            body.classList.toggle('theme-dark', !isDark);
            body.classList.toggle('theme-light', isDark);
            localStorage.setItem('sc-theme', isDark ? 'theme-light' : 'theme-dark');
        });
    });
</script>
</body>
</html>
