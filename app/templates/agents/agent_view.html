{% extends "_design.html" %}
{% block title %}Agents - Sentinel Commander{% endblock %}

{% block content %}
<div class="container-fluid mt-4">
  <h4 class="mb-3">ðŸ‘¤ Agent Overview</h4>

  <!-- Agents Table -->
  <div class="table-responsive">
    <table class="table table-dark table-bordered table-hover align-middle mb-0">
      <thead class="table-light text-dark">
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Name</th>
          <th scope="col">IP</th>
          <th scope="col">Total Alerts</th>
          <th scope="col">Last Alert</th>
        </tr>
      </thead>
      <tbody>
        {% for agent in agents %}
        <tr>
          <td>{{ agent.id }}</td>
          <td>
            <a href="/web/v1/agents/{{ agent.name | urlencode }}" class="badge bg-success text-decoration-none">
              {{ agent.name }}
            </a>
          </td>
          <td>{{ agent.ip }}</td>
          <td>{{ agent.total_alerts }}</td>
          <td>
            {{ agent.last_alert_time.strftime('%Y-%m-%d %H:%M:%S') if agent.last_alert_time else 'â€”' }}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
